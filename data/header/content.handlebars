<html>
    <head>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <style>
          @font-face {
            font-family: "Noto Sans";
            font-style: normal;
            font-weight: normal;
            src: url({#asset NotoSans-Regular.ttf @encoding=dataURI}) format('truetype');
          }
          @font-face {
            font-family: "Noto Sans Bold";
            font-style: normal;
            font-weight: normal;
            src: url({#asset NotoSans-Bold.ttf @encoding=dataURI}) format('truetype');
          }
        </style>
        <style>
            {#asset style.css @encoding=utf8}
        </style>     
        <style>
            .template-header {
                margin-top: -40px;
            }
        </style>
    </head>
    <body>
        {{#each $pdf.pages}}
        {{#if @index}}
            <div class="page-break"></div>
          {{/if}}
        <div>
            <div class="template invoice-template-container">
            <div class="template-header">
                <div class="template-invoice-data templat-eof-visible">
                    <div class="template-logo">
                        {{#if (equals @root.options.language 'bg')}}
                        {{#if (equals @root.options.stamp 'original')}}
                            <img class="template-stamp" src="{#asset stamp-original.png @encoding=dataURI}" />
                            <div class="template-stamp template-stamp-original"></div>
                        {{/if}}
                        {{#if (equals @root.options.stamp 'copy')}}
                            <img class="template-stamp" src="{#asset stamp-copy.png @encoding=dataURI}" />
                            <div class="template-stamp template-stamp-original"></div>
                        {{/if}}
                        {{/if}}
                        {{#if (equals @root.options.language 'en')}}
                        {{#if (equals @root.options.stamp 'original')}}
                            <img class="template-stamp" src="{#asset stamp-original_en.png @encoding=dataURI}" />
                            <div class="template-stamp template-stamp-original"></div>
                        {{/if}}
                        {{#if (equals @root.options.stamp 'copy')}}
                            <img class="template-stamp" src="{#asset stamp-copy_en.png @encoding=dataURI}" />
                            <div class="template-stamp template-stamp-original"></div>
                        {{/if}}
                        {{/if}}
                        {{#unless @root.invoice.company.showLogoOnInvoices}}
                        {{#if (equals @root.options.language 'bg')}}
                            <div class="template-logo-text">{{ @root.invoice.company.name }}</div>
                        {{/if}}
                        {{#if (equals @root.options.language 'en')}}
                            <div class="template-logo-text">{{ @root.invoice.company.nameEn }}</div>
                        {{/if}}
                        {{/unless}}
                        {{#if @root.invoice.company.showLogoOnInvoices}}
                        <img src="{{@root.invoice.company.logoUrl}}"/>
                        {{/if}}
                    </div>
                    <div class="template-right-column templat-eof-visible">
                        <h2> {{ deepFind @root.$localizedResource (concat 'app.invoices.type.' @root.invoice.type) }}</h2>
                        <p>
                        <span class="template-number">â„– {{ invoiceNumber @root.invoice.number }}</span>
                        </p>
                        {{#if @root.invoice.originalNumber}}
                        <p>
                        <span>{{ deepFind @root.$localizedResource 'app.invoices.preview.forInvoice' }}</span>:
                        <span class="template-date">{{ invoiceNumber @root.invoice.originalNumber }}</span>
                        </p>
                        {{/if}}
                        {{#if @root.invoice.originalNumber}}
                        <p>
                        <span>{{ deepFind @root.$localizedResource 'app.invoices.preview.fromDate' }}</span>:
                        <span class="template-date">{{ dateFormat @root.invoice.originalDate }}</span>
                        </p>
                        {{/if}}
                        <p>
                        <span>{{ deepFind @root.$localizedResource 'app.invoices.preview.issuedDate' }}</span>:
                        <span class="template-date">{{ dateFormat @root.invoice.issuedDate }}</span>
                        </p>
                        <p>
                        <span>{{ deepFind @root.$localizedResource 'app.invoices.preview.eventDate' }}</span>:
                        <span class="template-date">{{ dateFormat @root.invoice.date }}</span>
                        </p>
                        {{#if @root.invoice.deadline}}
                        <p>
                        <span>{{ deepFind @root.$localizedResource 'app.invoices.preview.deadline' }}</span>:
                        <span class="template-date">{{ dateFormat @root.invoice.deadline }}</span>
                        </p>
                        {{/if}}
                    </div>
                    <br class="clearboth">
                    </div>

                    <div class="template-section">
                        <div class="template-left-column template-text-left template-target">
                        <h4 class="template-section-header">{{ deepFind @root.$localizedResource 'app.invoices.preview.recipient' }}</h4>
                        <p class="template-highlight">
                            {{ tern @root.options.shouldTranslate true @root.invoice.client.nameEn @root.invoice.client.name }}
                        </p>
                        <p>
                            <span class="template-bold-">{{ deepFind @root.$localizedResource 'app.invoices.preview.issuer' }}</span>&nbsp;
                            <span>
                            {{ tern @root.options.shouldTranslate true @root.invoice.client.issuerEn @root.invoice.client.issuer }}
                            </span>
                        </p>
                        <p>
                            <span class="template-bold-">{{ deepFind @root.$localizedResource 'app.invoices.preview.bulstat' }}</span>&nbsp;
                            <span>{{@root.invoice.client.bulstat}}</span>
                        </p>
                        <p>
                            <span class="template-bold-">{{ deepFind @root.$localizedResource 'app.invoices.preview.vatNumber' }}</span>&nbsp;
                            <span>{{@root.invoice.client.vatNumber}}</span>
                        </p>
                        <p>
                            <span>{{tern @root.options.shouldTranslate true @root.invoice.client.cityEn @root.invoice.client.city}}
                            , {{tern @root.options.shouldTranslate true @root.invoice.client.addressEn @root.invoice.client.address}}</span>
                        </p>
                        </div>

                        <div class="template-right-column template-text-left template-target">
                        <h4 class="template-section-header">{{ deepFind @root.$localizedResource 'app.invoices.preview.supplier' }}</h4>
                        <p class="template-highlight">
                            {{tern @root.options.shouldTranslate true @root.invoice.company.nameEn @root.invoice.company.name}}
                        </p>
                        <p>
                            <span class="template-bold-">{{ deepFind @root.$localizedResource 'app.invoices.preview.issuer' }}</span>&nbsp;
                            <span>{{tern @root.options.shouldTranslate true @root.invoice.company.issuerEn @root.invoice.company.issuer}}</span>
                        </p>
                        <p>
                            <span class="template-bold-">{{ deepFind @root.$localizedResource 'app.invoices.preview.bulstat' }}</span>&nbsp;
                            <span>{{@root.invoice.company.bulstat}}</span>
                        </p>
                        <p>
                            <span class="template-bold-">{{ deepFind @root.$localizedResource 'app.invoices.preview.vatNumber' }}</span>&nbsp;
                            <span>{{@root.invoice.company.vatNumber}}</span>
                        </p>
                        <p>
                            <span>{{tern @root.options.shouldTranslate true @root.invoice.company.addressEn @root.invoice.company.address}}</span>
                        </p>

                        </div>
                        <br class="clearboth">
                    </div>
                </div>
            </div>
        </div>
        {{/each}}
    </body>
</html>
